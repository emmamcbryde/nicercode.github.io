```{r, echo=FALSE, results="asis"}
header <- '---
layout: page
title: "Writing reproducible reports in R with markdown, knitr and pandoc"
date: 2013-07-29
comments: true
sharing: true
footer: false
---'
writeLines(header)


So you have  some code, data and a cool result, now it's time to communicate this with your collaborators or supervisor. What do you do? In this guide, we want to show you how to write nice, reproducible reports using some of the fantastic, free tools and packages that are now on offer. These tools could revolutionise how you communicate your science, and hopefully mean that you never copy and paste again.

As a start, let's remind ourselves that of the key components of any good analysis:

1. Data
2. Code used to analyse the data
3. Figures and tables generated by the code
4. Text, provides interpretation of the figures, results, and describes the methods used.

Traditionally, most biologists do stages 2 and 3 in R, then fire up Word or Powerpoint and copy-paste everything into. That works fine, but there's many downsides to this approach, especially for all the smaller reports that one writes during a project:

- lots of time wasted: copy and pasting sucks
- your interpretation is separated from your code
- Word doesn't offer syntax highlighting, so it's hard to read code presented this way,
- Word documents can't be tracked under version control
- the report cannot be regenerated without doing it all that copying and pasting over again.

Thankfully, there's a *much* better way. Using the wonderful package [`knitr`](http://yihui.name/knitr/), a simple text-markup language called [markdown](http://daringfireball.net/projects/markdown/), and the universal document conversion program called [pandoc](http://johnmacfarlane.net/pandoc/), it's now possible to weave your interpretation in with your R code, to produce nice self-contained and reproducible reports. Together, these provide a powerful tool set for scientists looking to save time and do reproducible research.

# What is markdown and why use it?

The start of our process is the markdown language. Markdown's goal is to be "*as easy-to-read and easy-to-write as is feasible*". In practice, it is a simple set of formatting commands applied to a plain text document that can be easily converted into fancy formatted html, pdf or word docs. [Plain text](http://bettermess.com/a-plain-text-primer/) is nice because the files are small and easy to write on a variety of devices. As scientists we write a lot, not just papers, but also notes, code, emails, reminders, to do lists, blog posts etc. Increasingly, I use markdown for most of my note taking and report writing.

Lots of people have written talking about how wonderful markdown is, e.g. [here](http://lifehacker.com/5943320/what-is-markdown-and-why-is-it-better-for-my-to+do-lists-and-notes), here and here.

You can write markdown in anything, all you need is a [syntax guide](http://daringfireball.net/projects/markdown/syntax) and a text editor. However, the best test editors also allow you to export your code as formatted html. I use [Sublimetext](http://www.sublimetext.com/) on my computer, and [notesy](http://notesy-app.com/) on my iphone. Here's a list of [78 other editors to checkout](http://mashable.com/2013/06/24/markdown-tools/).

Oh yeah, mark down docs usually end with extension `.md`, or `.markdown`.

# RMarkdown

Markdown proved so useful that many different coding groups adotped it, but also adding there own 'flavour' . T

http://www.rstudio.com/ide/docs/authoring/using_markdown
online help in Rstudio

```
library(knitr)
library(markdown)
knit("Foo.Rmd")
markdownToHTML("Foo.md", "Foo.html")
```

# Reports with knitr
Knitr

- What is it?
- How to run in RStudio
- Some tricks
  - eval =TRUE, echo= TRUE, results= "hide"

- Converting to different document formats
  `pandoc("7-material/demo.md", format ="pdf")`

- demo, showing tricks

- embed figures within html

https://gist.github.com/jeromyanglim/2716336
https://github.com/yihui/knitr-examples
http://yihui.name/en/2012/06/enjoyable-reproducible-research/

Book: Dynamic Documents with R and knitr http://www.amazon.com/gp/product/1482203537

## Reproducible research

Work flow for making a reproducible paper

- pandoc as tool for converting among file types. http://conjugateprior.org/2013/03/tools-for-making-a-paper/


## Example docs

https://gist.github.com/jeromyanglim/2716336
