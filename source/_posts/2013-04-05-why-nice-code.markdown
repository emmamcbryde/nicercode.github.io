---
layout: post
title: "Why nice code"
date: 2013-04-05 14:46
comments: true
categories: 
publish: false
author: Daniel Falster

---

<!-- 
Why are students here
Goals: performance, learning, affective, social
Value: attainment, intrinsic, instrumental 

Instrumental - allows you to accomplish other important goals (extrinsic rewards), i.e. learn about world, write papers, impress others
Intrinsic - value nice code for itself (craftsmanship)
Attainment -  satisfaction in getting something to work
-->

# Why nicer code

Writing code is becoming one of the key - if not the most important - skills for doing research in the 21st century. As scientists, we live in extraordinary times. The 
amount of data (information) available to us is increasingly exponentially, allowing for rapid advances in our understanding of the natural and human worlds. At the same time, the amount of information contained in a standard scientific paper also seems to be on the rise. Researchers therefore need to be able to handle ever larger amounts of data to proceed in science. Yet, the standard tools used by many biologists -  point and click programs for manipulating data, doing stats and making plots - do not allow us to scale-up our research, at least not without many, many more 'clicks'. The solution is to write scripts in programs like R. Scripting allows one to automate, and therefore scale-up without a big increase in effort. Writing code also offers other benefits beneficial to research. When your analyses are documented in a script, it is easier to pick up a project and start working on it again. You have a record of what you did and why. Chunks of code can also be reused in new projects, saving vast amount of time. Writing code also allows for effective collaboration with people from all over the world.  For all these reasons, being able to write code offers enormous benefits for those looking for a career in science. 

Yet, most scientists have no or limited formal training in computer science, and thus struggle to write nice code. Like most biologists, I taught myself to code, using a mix of books, help from colleagues, internet posts, and lots of trial and error. If you also learnt via a similar route, you should be commended, not just for taking the initiative, but also because it a challenging and often lonely path. My focus during this learning process was on getting my code to run, do the analyses I wanted.  There are lots of [great R resources](link to R resource page) available showing you how to do complicated statistical routines, make nice graphics, run models, or pretty much anything you would like. But what I missed during my

Despite this, writing code and using R is still a painful process for most students. No one is teaching you how to code well, at least not in a standard university biology department.

Realising this, we (Rich FitzJohn and Daniel Falster) have teamed up to bring you the nice R code course and blog. This blog is targeted at researchers who are already using R and want to take their coding to the next level. Being self taught ourselves, we are certainly not expert coders. But we are thinking actively about how we can improve our code and are passionate about helping others to improve theirs. We believe that everyone can improve their code - and their enjoyment in writing code - considerably by focussing a little on the simple elements that make nicer code. Following this blog will help you establish good workflow and coding habits and thereby save you time and improve the quality of your science.

## What is nice code

By 'nicer' we mean code that is easy to write, is easy to read, runs fast, gives reliable results, is easy to reuse in new projects, and is easy to share with collaborators.
Are you using R? Do you want write nicer code?



## some pragmatic reasons

### Save time

- spend less time wrestling with R, enjoyment of scientific process. nice code is more fun
- coding: allows you to scale up. Repetition is avoidable, which it isn't in field or lab

### Impact


### Future employment

**you should consider anything you write (open or closed) to be a potential advert to a future employer**

 - [Don't worry about code snobs](www.software.ac.uk/blog/2013-01-25-haters-gonna-hate-why-you-shouldnt-be-ashamed-releasing-your-code) 
- "Scientists and engineers with an analytical bent are sought-after in natural-hazard risk assessment" in natural-hazard risk assessment" http://www.nature.com/naturejobs/science/articles/10.1038/nj7440-271a

### Scaling up 

- more data, bigger questions. 
- ever decreasing cost of more data, compared to linear cost with bad code/ excel. 

# Showcase #

github, twitter API
Hadley Wickham, large data
diversitree on github

- network via history, Emma Goldberg fork

Poor code: Freckleton MEE http://dx.doi.org/10.1111/j.2041-210X.2012.00220.x

- sI material does not work


Why: 
Better science
More fun
Bigger datasets 
Become more efficient
Future employment


## Key elements of nice code
readability  

Why?

- saves time

Key ideas

- intent (what is it meant to do) --> variable names, comments, design
- style
- don't repeat yourself 

Reliable

- don't repeat yourself, avoiding repetition makes code more reliable
- it runs

Code smell

- global vars


> Programs should be written for people to read, and only incidentally for machines to execute.
> -- from "Structure and Interpretation of Computer Programs" by Abelson and Sussman

> Always code as if the person who will maintain your code is a maniac serial killer that knows where you live

Might sound extreme until you realise that the maniac is you. 

shortcut now is mortgage on your future time

fast, readable, robust, tested, reusable, sharable

> Many future scientific insights are likely to be buried ever more deeply, and subtlety, in ever larger amounts of experimental data. This research-enabling project will develop breakthrough tools to enable new ways to interpret and draw insight from data. 



